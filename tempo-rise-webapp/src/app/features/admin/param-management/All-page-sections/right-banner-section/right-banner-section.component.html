<form [formGroup]="contentForm" (ngSubmit)="saveContent()">
  <div formArrayName="bar">
    @for (group of barArray.controls ; track group; let barIndex = $index) {
       <div [formGroupName]="$index" class="space-y-4">
   <section class="space-y-4">
      <h3 class="text-lg font-semibold text-[var(--text)]">Logo</h3>
      
      <app-upload-image 
        [titre]="'Image de logo'"
        [buttonText]="'TÃ©lÃ©charger une image'"
        [imageUrl]="barArray.at(barIndex).get('imageUrl')?.value"
        (onFileSelected)="onFileSelected($event,barIndex)"
        (onFileRemoved)="removeFile(barIndex)"
      ></app-upload-image>
    </section>
                <div>   
                  <label class="block text-sm font-medium text-[var(--text)] mb-2">Texte</label>
                  <input 
                    type="text" 
                    formControlName="text"
                    [maxlength]="30"
                    class="w-full px-4 py-2 bg-[var(--background)] text-[var(--text)] rounded-lg border-2 border-transparent focus:border-[var(--primary)] focus:outline-none">
                </div>
                <div>
                  <label class="block text-sm font-medium text-[var(--text)] mb-2">Lien</label>
                  <input 
                    type="text" 
                    formControlName="url"
                    class="w-full px-4 py-2 bg-[var(--background)] text-[var(--text)] rounded-lg border-2 border-transparent focus:border-[var(--primary)] focus:outline-none">
                </div>
                         <button type ="button" (click)="removeBar($index)" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:opacity-90 transition-all duration-200 transform hover:scale-105">
    Supprimer
  </button>
  </div>
                  
                }
 <button type="button" (click)="addBar()">Ajouter un element</button>
              </div>
              <!-- Save Button -->
              <div class="mt-6">
                <button 
                  type="submit"
                  [disabled]="!contentForm.valid || barArray.length == 0"
                  class="w-full px-6 py-3 bg-[var(--primary)] text-white rounded-lg hover:opacity-90 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                  ðŸ’¾ Enregistrer le contenu
                </button>
              </div>
            
            </form>