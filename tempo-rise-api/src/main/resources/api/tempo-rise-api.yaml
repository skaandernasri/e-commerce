openapi: 3.0.3
info:
  title: API TEMPO RISE
  description: >
    L'API TEMPO RISE permet de gérer toutes les fonctionnalités essentielles d'un site de commerce en ligne. 
    Elle inclut la gestion des produits, des utilisateurs, des commandes et des paiements. 
    Cette API est conçue pour offrir une expérience d'achat fluide et sécurisée pour les utilisateurs finaux, 
    tout en permettant aux administrateurs de gérer le catalogue, les utilisateurs et les transactions de manière efficace. 
    Elle supporte l'authentification des utilisateurs, la gestion des paniers, la mise à jour des stocks, et le traitement des paiements.
  version: 1.0.0
servers:
  - url: http://localhost:8080/tempo-rise/api

paths:
  /v1/auth/signup:
    post:
      summary: Inscription d'un nouvel utilisateur
      operationId: SignupUser
      tags:
        - Authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupUserRequest'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
          description: Utilisateur créé avec succès
        '400':
          description: Requête invalide (par exemple, email déjà utilisé)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '409':
          description: Conflit (par exemple, utilisateur déjà existant)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/auth/signin:
    post:
      summary: Connexion d'un utilisateur existant avec email et mot de passe
      operationId: signinUser
      tags:
        - Authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SigninUserRequest'
      responses:
        '200':
          description: Connexion réussie, retourne un token d'accès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Requête invalide (par exemple, mauvais format d'email ou mot de passe manquant)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '401':
          description: Authentification échouée (email ou mot de passe incorrect)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/auth/signin/google:
    post:
      summary: Connexion avec Google
      operationId: signinGoogle
      tags:
        - Authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SigninGoogleRequest'
      responses:
        '200':
          description: Connexion réussie, retourne un token d'accès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Requête invalide (par exemple, token Google manquant ou incorrect)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '401':
          description: Authentification échouée (token Google invalide)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/auth/signin/facebook:
    post:
      summary: Connexion avec Facebook
      operationId: signinFacebook
      tags:
        - Authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SigninFacebookRequest'
      responses:
        '200':
          description: Connexion réussie, retourne un token d'accès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Requête invalide (par exemple, token Facebook manquant ou incorrect)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '401':
          description: Authentification échouée (token Facebook invalide)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/auth/logout:
    post:
      summary: Déconnexion de l'utilisateur
      operationId: logoutUser
      tags:
        - Authentification
      responses:
        '200':
          description: Déconnexion réussie
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/auth/refresh:
    post:
      summary: Rafraîchir le token d'accès avec un refresh token
      operationId: refreshToken
      tags:
        - Authentification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
      responses:
        '200':
          description: Token rafraîchi avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Requête invalide (par exemple, refreshToken manquant)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '401':
          description: Le token de rafraîchissement est invalide ou expiré
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/articles:
    get:
      summary: Récupérer tous les articles du blog
      operationId: getAllArticles
      tags:
        - Articles
      responses:
        '200':
          description: Liste des articles du blog
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ArticleResponse'
    post:
      summary: Créer un nouvel article dans le blog
      operationId: createArticle
      tags:
        - Articles
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ArticleRequest'
      responses:
        '201':
          description: Article créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArticleResponse'

  /v1/articles/{id}:
    get:
      summary: Récupérer un article par ID
      operationId: getArticleById
      tags:
        - Articles
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'article à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Article trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArticleResponse'
        '404':
          description: Article non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    put:
      summary: Mettre à jour un article
      operationId: updateArticle
      tags:
        - Articles
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'article à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ArticleRequest'
      responses:
        '200':
          description: Article mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArticleResponse'
        '404':
          description: Article non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer un article du blog
      operationId: deleteArticle
      tags:
        - Articles
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'article à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Article supprimé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Article non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'


  /v1/utilisateurs:
    get:
      summary: Récupérer tous les utilisateurs
      operationId: getAllUtilisateurs
      tags:
        - Utilisateurs
      responses:
        '200':
          description: Liste des utilisateurs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserResponse'
    post:
      summary: Créer un nouvel utilisateur
      operationId: createUtilisateur
      tags:
        - Utilisateurs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '201':
          description: Utilisateur créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'

  /v1/utilisateurs/{id}:
    get:
      summary: Récupérer un utilisateur par ID
      operationId: getUtilisateurById
      tags:
        - Utilisateurs
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'utilisateur à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Utilisateur trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '404':
          description: Utilisateur non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    put:
      summary: Mettre à jour un utilisateur
      operationId: updateUtilisateur
      tags:
        - Utilisateurs
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'utilisateur à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '200':
          description: Utilisateur mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '404':
          description: Utilisateur non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer un utilisateur
      operationId: deleteUtilisateur
      tags:
        - Utilisateurs
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'utilisateur à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Utilisateur supprimé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Utilisateur non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/utilisateur/profile:
    put:
      summary: Mettre à jour le profil de l'utilisateur
      operationId: updateProfilUtilisateur
      tags:
        - Utilisateurs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '200':
          description: Profil mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '404':
          description: Utilisateur non trouvé
  /v1/utilisateur/{userId}/profile/image:
    get:
      summary: Récupérer l'image du profil de l'utilisateur
      operationId: getImageProfilUtilisateur
      tags:
        - Utilisateurs
      parameters:
        - name: userId
          in: path
          required: true
          description: ID de l'utilisateur à recuperer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Profile image (supports JPEG/PNG)
          content:
            image/png:
              schema:
                type: string
                format: binary
    post:
      summary: Mettre à jour l'image du profil de l'utilisateur
      operationId: updateImageProfilUtilisateur
      tags:
        - Utilisateurs
      parameters:
        - name: userId
          in: path
          required: true
          description: ID de l'utilisateur à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
                  description: Fichier image à uploader
              required:
                - image
      responses:
        '200':
          description: URL de l'image de profile
          content:
            application/json:
              schema:
                type: object
                properties:
                  imageUrl:
                    type: string
                    example: "https://example.com/uploads/profile.jpg"

  /v1/commandes:
    get:
      summary: Récupérer toutes les commandes
      operationId: getAllCommandes
      tags:
        - Commandes
      responses:
        '200':
          description: Liste des commandes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CommandeResponse'
    post:
      summary: Créer une nouvelle commande
      operationId: createCommande
      tags:
        - Commandes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommandeRequest'
      responses:
        '201':
          description: Commande créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaiementResponse'
    delete:
      summary: Supprimer tous les commandes
      operationId: deleteAllCommandes
      tags:
        - Commandes
      responses:
        '204':
          description: Toutes les catégories ont été supprimés avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/commandes/{id}:
    get:
      summary: Récupérer une commande par ID
      operationId: getCommandeById
      tags:
        - Commandes
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la commande à récupérer
          schema:
            type: integer
            format: int64
        - name: user_id
          in: query
          required: false
          description: ID du propriétaire de la commande
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Commande trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    put:
      summary: Mettre à jour une commande
      operationId: updateCommande
      tags:
        - Commandes
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la commande à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                statut:
                  type: string
                  enum:
                    - EN_COURS
                    - EXPEDIEE
                    - LIVREE
                    - ANNULE
                    - RETOUR
      responses:
        '200':
          description: Commande mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer une commande
      operationId: deleteCommande
      tags:
        - Commandes
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la commande à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Commande supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/commandeStatus/{id}:
    put:
      summary: Mettre à jour une commande
      operationId: updateCommandeStatus
      tags:
        - Commandes
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la commande à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  $ref: '#/components/schemas/StatusCommandeEnum'

      responses:
        '200':
          description: Commande mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/commandeCustomerDetails/{id}:
    put:
      summary: Mettre à jour une commande
      operationId: updateCommandeCustomerDetails
      tags:
        - Commandes
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la commande à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nom:
                  type: string
                prenom:
                  type: string
                email:
                  type: string
                telephone:
                  type: string


      responses:
        '200':
          description: Commande mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/commandes/utilisateur:
    get:
      summary: Récupérer une commande par userID
      operationId: getCommandeByUserId
      tags:
        - Commandes
      parameters:
        - name: id
          in: query
          required: false
          description: ID de l'utilisateur de la commande à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Commandes trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commandes non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/commandes/paymentRef:
    get:
      summary: Récupérer une commande par ref
      operationId: getCommandeByRef
      tags:
        - Commandes
      parameters:
        - name: payment_ref
          in: query
          required: true
          description: ref du paiement online
          schema:
            type: string
        - name: user_id
          in: query
          required: false
          description: ID de l'utilisateur de la commande à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Commande trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Commandes non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/commandes/paged/filtered:
    get:
      summary: Récupérer une page de commandes filtrés
      operationId: getFilteredCommandesPage
      tags:
        - Commandes
      parameters:
        - name: page
          in: query
          required: false
          description: Numéro de page
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          description: Nombre d'éléments par page
          schema:
            type: integer
            default: 10
        - name: status
          in: query
          required: false
          description: Status du commande
          schema:
            $ref: '#/components/schemas/StatusCommandeEnum'
        - name: email
          in: query
          required: false
          description: Email du propriétére de la commande
          schema:
            type: string
        - name: orderByCreationDateDesc
          in: query
          required: false
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: Page de commandes
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/CommandeResponse'
                  totalElements:
                    type: integer
                    format: int64
                    example: 42
                  totalPages:
                    type: integer
                    example: 5
                  currentPage:
                    type: integer
                    example: 1
                  totalAmmount:
                    type: number
                    format: double
                  globalTotalElements:
                    type: integer
                    format: int64
                  currentWeekOrders:
                    type: integer
                    format: int64
                  lastWeekOrders:
                    type: integer
                    format: int64
                  currentWeekOrdersTotalAmount:
                    type: number
                    format: double
                  lastWeekOrdersTotalAmount:
                    type: number
                    format: double


  /v1/ligneCommande/{commande_id}:
    put:
      summary: Mettre à jour une ligne de commande
      operationId: updateLigneCommande
      tags:
        - LigneCommande
      parameters:
        - name: commande_id
          in: path
          required: true
          description: ID de la commande de la ligne de commande à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LigneCommandeRequest'
      responses:
        '200':
          description: Ligne de commande mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandeResponse'
        '404':
          description: Ligne de commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/ligneCommande/{commande_id}/{variant_id}:
    delete:
      summary: Supprimer une ligne de commande
      operationId: deleteLigneCommande
      tags:
        - LigneCommande
      parameters:
        - name: commande_id
          in: path
          required: true
          description: ID de la commande de la ligne de commande à supprimer
          schema:
            type: integer
            format: int64
        - name: variant_id
          in: path
          required: true
          description: ID de la variant de la ligne de commande à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Ligne de commande supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Ligne de commande non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/commande/admin:
    post:
      summary: Créer une nouvelle commande par admin
      operationId: createCommandeAdmin
      tags:
        - Commandes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommandeAdminRequest'
      responses:
        '201':
          description: Commande créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaiementResponse'
  /v1/commande/guest:
    post:
      summary: Créer une nouvelle commande par invité
      operationId: createCommandeGuest
      tags:
        - Commandes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommandeGuestRequest'
      responses:
        '201':
          description: Commande créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaiementResponse'

  /v1/mergeCommande:
    post:
      summary: Fusionner les commandes d'un utilisateur anonyme avec un utilisateur
      operationId: mergeCommande
      tags:
        - Commandes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MergeCommandeRequest'
      responses:
        '200':
          description: Commandes fusionnées
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/factures:
    get:
      summary: Récupérer toutes les factures
      operationId: getAllFactures
      tags:
        - Factures
      responses:
        '200':
          description: Liste des factures
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FactureResponse'
    post:
      summary: Créer une nouvelle facture
      operationId: createFacture
      tags:
        - Factures
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FactureRequest'
      responses:
        '201':
          description: Facture crée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactureResponse'
    delete:
      summary: Supprimer toutes les factures
      operationId: deleteAllFactures
      tags:
        - Factures
      responses:
        '204':
          description: Toutes les factures ont été supprimées
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/factures/{id}:
    get:
      summary: Récupérer une facture par ID
      operationId: getFactureById
      tags:
        - Factures
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la facture à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '201':
          description: Facture crianée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactureResponse'
    delete:
      summary: Supprimer une facture
      operationId: deleteFacture
      tags:
        - Factures
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la facture à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Facture supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/factures/utilisateur/{id}:
    get:
      summary: Récupérer une facture par userID
      operationId: getFactureByUserId
      tags:
        - Factures
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'utilisateur de la facture à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Factures trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FactureResponse'
        '404':
          description: Factures non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/factures/commande/{id}:
    get:
      summary: Récupérer une facture par commandeID
      operationId: getFactureByCommandeId
      tags:
        - Factures
      parameters:
        - name: id    
          in: path
          required: true
          description: ID de la commande de la facture à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Factures trouvée
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/FactureResponse'
        '404':
          description: Factures non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/adresses:
    get:
      summary: Récupérer toutes les adresses
      operationId: getAllAdresses
      tags:
        - Adresses
      responses:
        '200':
          description: Liste des adresses
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AdresseResponse'
    post:
      summary: Créer une nouvelle adresse
      operationId: createAdresse
      tags:
        - Adresses
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdresseRequest'
      responses:
        '201':
          description: Adresse créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdresseResponse'
    delete:
      summary: Supprimer toutes les adresses
      operationId: deleteAllAdresses
      tags:
        - Adresses
      responses:
        '204':
          description: Toutes les adresses ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/adresses/{id}:
    get:
      summary: Récupérer une adresse par ID
      operationId: getAdresseById
      tags:
        - Adresses
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'adresse à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Adresse trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdresseResponse'
        '404':
          description: Adresse non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    put:
      summary: Mettre à jour une adresse
      operationId: updateAdresse
      tags:
        - Adresses
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'adresse à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdresseRequest'
      responses:
        '200':
          description: Adresse mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdresseResponse'
        '404':
          description: Adresse non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer une adresse
      operationId: deleteAdresse
      tags:
        - Adresses
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'adresse à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Adresse supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Adresse non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/adresses/utilisateur:
    get:
      summary: Récupérer une adresse par UserID
      operationId: getAdresseByUserId
      tags:
        - Adresses
      parameters:
        - name: user_id
          in: query
          required: false
          description: ID de l'utilsateur de l'adresse à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Adresse trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AdresseResponse'
        '404':
          description: Adresse non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/adresses/type/{type}:
    get:
      summary: Récupérer une adresse par type
      operationId: getAdresseByType
      tags:
        - Adresses
      parameters:
        - name: type
          in: path
          required: true
          description: Type de l'adresse à récupérer (LIVRAISON, FACTURATION)
          schema:
            type: string
      responses:
        '200':
          description: Adresse trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AdresseResponse'
        '404':
          description: Adresse non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'



  /v1/codePromo:
    get:
      summary: Récupérer les codes promo
      operationId: getAllCodePromo
      tags:
        - CodePromo
      responses:
        '200':
          description: Liste des codesPromo
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CodePromoResponse'
    post:
      summary: Créer un nouveau code promo
      operationId: createCodePromo
      tags:
        - CodePromo
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CodePromoRequest'
      responses:
        '201':
          description: codePromo créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CodePromoResponse'

  /v1/codePromo/{id}:
    get:
      summary: Récupérer un codePromo par ID
      operationId: getCodePromoById
      tags:
        - CodePromo
      parameters:
        - name: id
          in: path
          required: true
          description: ID du CodePromo a récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: code Promo trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CodePromoResponse'
        '404':
          description: codePromo non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    put:
      summary: Mettre à jour un codePromo
      operationId: updateCodePromo
      tags:
        - CodePromo
      parameters:
        - name: id
          in: path
          required: true
          description: ID du code promo à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CodePromoRequest'
      responses:
        '200':
          description: code promo mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CodePromoResponse'
        '404':
          description: codePromo non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer un Code promo
      operationId: deleteCodePromo
      tags:
        - CodePromo
      parameters:
        - name: id
          in: path
          required: true
          description: ID du code promo à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: codePromo supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: code promo non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/codePromo/active:
    get:
      summary: Récupérer les codes promo actifs
      operationId: getActiveCodePromos
      tags:
        - CodePromo
      responses:
        '200':
          description: Liste des codes promo actifs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CodePromoResponse'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/codePromo/inactive:
    get:
      summary: Récupérer les codes promo inactifs
      operationId: getInActiveCodePromos
      tags:
        - CodePromo
      responses:
        '200':
          description: Liste des codes promo inactifs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CodePromoResponse'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/codePromo/code/{code}:
    get:
      summary: Récupérer un code promo par son code
      operationId: getCodePromoByCode
      tags:
        - CodePromo
      parameters:
        - name: code
          in: path
          required: true
          description: Code du promo à récupérer
          schema:
            type: string
      responses:
        '200':
          description: Code promo trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CodePromoResponse'
        '404':
          description: Code promo non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/codePromo/all:
    delete:
      summary: Supprimer tous les codes promo
      operationId: deleteAllCodePromos
      tags:
        - CodePromo
      responses:
        '200':
          description: Tous les codes promo ont été supprimés
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/paiement:
    post:
      summary: Créer un nouveau paiement
      operationId: createPaiement
      tags:
        - Paiements
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaiementRequest'
      responses:
        '201':
          description: Paiement créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaiementResponse'
    get:
      summary: Récupérer les details d'un paiement
      operationId: getPaymentDetails
      tags:
        - Paiements
      parameters:
        - name: payment_ref
          in: query
          required: true
          description: Récupérer le details d'un paiement
          schema:
            type: string
        - name: user_id
          in: query
          required: false
          description: Id User
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Details du paiement
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebhookResponse'
  /v1/konnect/webhook:
    get:
      summary: Récupérer le webhook de Konnect
      operationId: getKonnectWebhook
      tags:
        - Paiements
      parameters:
        - name: payment_ref
          in: query
          required: true
          description: Récupérer le webhook de Konnect
          schema:
            type: string
      responses:
        '200':
          description: Webhook de Konnect
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebhookResponse'

  /v1/paniers:
    get:
      summary: Récupérer tous les paniers
      operationId: getAllPaniers
      tags:
        - Paniers
      responses:
        '200':
          description: Liste des paniers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PanierResponse'
    delete:
      summary: Supprimer tout les paniers
      operationId: deleteAllPaniers
      tags:
        - Paniers
      responses:
        '204':
          description: Tout les paniers ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/paniers/{id}:
    get:
      summary: Récupérer un panier par ID
      operationId: getPanierById
      tags:
        - Paniers
      parameters:
        - name: id
          in: path
          required: true
          description: ID du panier à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Panier trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanierResponse'
        '404':
          description: Panier non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer un panier
      operationId: deletePanier
      tags:
        - Paniers
      parameters:
        - name: id
          in: path
          required: true
          description: ID du panier à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Panier non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Panier non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/panier/utilisateur/{id}:
    get:
      summary: Récupérer un panier par ID utilisateur
      operationId: getPanierByUserId
      tags:
        - Paniers
      parameters:
        - name: id
          in: path
          required: true
          description: ID utilisateur du panier à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Panier trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanierResponse'
        '404':
          description: Panier non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/utilisateur/{userId}/panier/add-item/{productId}:
    post:
      summary: Ajouter un produit au panier
      operationId: addProductToPanier
      tags:
        - Paniers
      parameters:
        - name: userId
          in: path
          required: true
          description: ID de l'utilisateur
          schema:
            type: integer
            format: int64
        - name: productId
          in: path
          required: true
          description: ID du produit à ajouter au panier
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CartItemRequest'
      responses:
        '201':
          description: Produit ajouté au panier
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanierResponse'
  /v1/utilisateur/{userId}/panier/items/{productId}:
    put:
      summary: Update the quantity of a product in the cart
      operationId: updateCartItem
      tags:
        - Paniers
      parameters:
        - name: userId
          in: path
          required: true
          description: ID of the user who owns the cart
          schema:
            type: integer
            format: int64
        - name: productId
          in: path
          required: true
          description: ID of the product to update
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CartItemRequest'
      responses:
        '200':
          description: Product quantity updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanierResponse'
        '404':
          description: User, cart, or product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Invalid request (e.g., negative quantity)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Remove a product from the user's cart
      operationId: removeItemFromCart
      tags:
        - Paniers
      parameters:
        - name: userId
          in: path
          required: true
          description: ID of the user who owns the cart
          schema:
            type: integer
            format: int64
        - name: productId
          in: path
          required: true
          description: ID of the product to remove
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Product successfully removed (no content returned)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: User, cart, or product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Invalid request (e.g., malformed IDs)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/utilisateur/{userId}/panier/{panierId}:
    delete:
      summary: Remove all products from the user's cart
      operationId: removeAllItemFromCart
      tags:
        - Paniers
      parameters:
        - name: userId
          in: path
          required: true
          description: ID of the user who owns the cart
          schema:
            type: integer
            format: int64
        - name: panierId
          in: path
          required: true
          description: ID of the cart to remove its items
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: items successfully removed (no content returned)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: User, cart, or product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '400':
          description: Invalid request (e.g., malformed IDs)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/utilisateur/{userId}/panier/merge:
    post:
      summary: Créer un nouveau panier
      operationId: mergePanier
      tags:
        - Paniers
      parameters:
        - name: userId
          in: path
          required: true
          description: ID de l'utilisateur
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/CartItemRequest'
      responses:
        '201':
          description: Panier créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanierResponse'
  /v1/produit/disponible:
    get:
      summary: Verifier si un produit est disponible
      operationId: isProductAvailable
      tags:
        - Paniers
      responses:
        '200':
          description: Produit disponible
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Response'
  /v1/produits:
    get:
      summary: Récupérer tous les produits
      operationId: getAllProducts
      tags:
        - Produits
      responses:
        '200':
          description: Liste des produits
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductResponse'
    post:
      summary: Créer un nouveau produit
      operationId: createProduct
      tags:
        - Produits
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductRequest'
      responses:
        '201':
          description: Produit créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductResponse'
    delete:
      summary: Supprimer tous les produits
      operationId: deleteAllProducts
      tags:
        - Produits
      responses:
        '204':
          description: Tous les produits ont été supprimés avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/produits/{id}:
    get:
      summary: Récupérer un produit par ID
      operationId: getProductById
      tags:
        - Produits
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Produit trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductResponse'
        '404':
          description: Produit non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    put:
      summary: Mettre à jour un produit
      operationId: updateProduit
      tags:
        - Produits
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductRequest'
      responses:
        '200':
          description: Produit mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductResponse'
        '404':
          description: Produit non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: Supprimer un produit
      operationId: deleteProduct
      tags:
        - Produits
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Produit non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Produit non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/produits/byIds/{id}:
    get:
      summary: Récupérer plusieurs produit par plusieurs ID
      operationId: getProductsByIds
      tags:
        - Produits
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit à récupérer
          schema:
            type: array
            items:
              type: integer
              format: int64
      responses:
        '200':
          description: Produit trouvé
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductResponse'
        '404':
          description: Produit non trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'


#  /v1/produits/page/{page}/{size}:
#    get:
#      summary: Récupérer une page de produits
#      operationId: getProductsPage
#      tags:
#        - Produits
#      parameters:
#        - name: page
#          in: path
#          required: true
#          description: Numéro de page
#          schema:
#            type: integer
#        - name: size
#          in: path
#          required: true
#          description: Nombre d'éléments par page
#          schema:
#            type: integer
#      responses:
#        '200':
#          description: Page de produits
#          content:
#            application/json:
#              schema:
#                type: object
#                properties:
#                  content:
#                    type: array
#                    items:
#                      $ref: '#/components/schemas/ProductResponse'
#                  totalElements:
#                    type: integer
#                    format: int64
#                    example: 42
#                  totalPages:
#                    type: integer
#                    example: 5
#                  currentPage:
#                    type: integer
#                    example: 1
#                  size:
#                    type: integer
#                    example: 10
  /v1/produits/filtered:
    get:
      summary: Récupérer une page de produits filtrés
      operationId: getFilteredProducts
      tags:
        - Produits
      parameters:
        - name: productName
          in: query
          required: false
          description: Nom du produit
          schema:
            type: string
        - name: categoryNames
          in: query
          required: false
          description: Nom de la catégorie
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        - name: actif
          in: query
          required: false
          description: statut du produit
          schema:
            type: boolean
      responses:
        '200':
          description: Page de produits
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductResponse'
  /v1/produits/paged/filtered:
    get:
      summary: Récupérer une page de produits filtrés
      operationId: getFilteredProductsPage
      tags:
        - Produits
      parameters:
        - name: page
          in: query
          required: false
          description: Numéro de page
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          description: Nombre d'éléments par page
          schema:
            type: integer
            default: 10
        - name: productName
          in: query
          required: false
          description: Nom du produit
          schema:
            type: string
        - name: categoryNames
          in: query
          required: false
          description: Nom de la catégorie
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        - name: minPrice
          in: query
          required: false
          description: Prix minimum
          schema:
            type: number
            format: double
            minimum: 0
        - name: maxPrice
          in: query
          required: false
          description: Prix maximum
          schema:
            type: number
            format: double
            minimum: 0
        - name: minPromotion
          in: query
          required: false
          description: Promotion minimum
          schema:
            type: number
            format: double
            minimum: 0
            maximum: 100
        - name: maxPromotion
          in: query
          required: false
          description: Promotion maximum
          schema:
            type: number
            format: double
            minimum: 0
            maximum: 100
        - name: actif
          in: query
          required: false
          description: statut du produit
          schema:
            type: boolean
        - name: orderByRatingDesc
          in: query
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Page de produits
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/ProductResponse'
                  totalElements:
                    type: integer
                    format: int64
                    example: 42
                  totalPages:
                    type: integer
                    example: 5
                  currentPage:
                    type: integer
                    example: 1
                  maxPrice:
                    type: number
                    format: double
  /v1/prods/stock/details:
    get:
      summary: Récupérer le stock de tous les produits
      operationId: getStockDetails
      tags:
        - Produits
      parameters:
        - name: stockMoreThan
          in: query
          description: Stock minimum
          schema:
            type: integer
            format: int64
            minimum: 0
            default: 0
        - name: stockLessThan
          in: query
          schema:
            type: integer
            format: int64
            minimum: 0
            default: 0
        - name: stockEquals
          in: query
          schema:
            type: integer
            format: int64
            minimum: 0
            default: 0
      responses:
        '200':
          description: Détails du stock
          content:
            application/json:
              schema:
                type: object
                properties:
                  inStock:
                    type: integer
                    format: int64
                    example: 42
                  lowStock:
                    type: integer
                    format: int64
                    example: 42
                  outOfStock:
                    type: integer
                    format: int64
                    example: 42
                  totalProducts:
                    type: integer
                    format: int64
                    example: 42

  /v1/suiviClient:
    post:
      summary: Créer un nouveau suivi client
      operationId: createSuiviClient
      tags:
        - SuiviClient
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SuiviClientRequest'
      responses:
        '201':
          description: Suivi client créé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/suiviClient/merge:
    post:
      summary: Fusionner deux suivi clients
      operationId: mergeSuiviClient
      tags:
        - SuiviClient
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SuiviClientRequest'
      responses:
        '201':
          description: Suivi client fusionné
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/categories:
    get:
      summary: Récupérer toutes les catégories
      operationId: getAllCategories
      tags:
        - Categories
      responses:
        '200':
          description: Liste des catégories
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategorieResponse'

    post:
      summary: Créer une nouvelle catégorie
      operationId: createCategory
      tags:
        - Categories
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategorieRequest'
      responses:
        '201':
          description: Catégorie créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategorieResponse'

    delete:
      summary: Supprimer toutes les catégories
      operationId: deleteAllCategories
      tags:
        - Categories
      responses:
        '204':
          description: Toutes les catégories ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/categories/{id}:
    get:
      summary: Récupérer une catégorie par ID
      operationId: getCategoryById
      tags:
        - Categories
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la catégorie à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Catégorie trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategorieResponse'
        '404':
          description: Catégorie non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    put:
      summary: Mettre à jour une catégorie
      operationId: updateCategory
      tags:
        - Categories
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la catégorie à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategorieRequest'
      responses:
        '200':
          description: Catégorie mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategorieResponse'
        '404':
          description: Catégorie non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    delete:
      summary: Supprimer une catégorie
      operationId: deleteCategory
      tags:
        - Categories
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la catégorie à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Catégorie supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Catégorie non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/imageProduit:
    get:
      summary: Récupérer toutes les images
      operationId: getAllImagesProduits
      tags:
        - ImageProduit
      responses:
        '200':
          description: Liste des images
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ImageProduitResponse'

    post:
      summary: Créer une nouvelle image
      operationId: createImageProduit
      tags:
        - ImageProduit
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageProduitRequest'
      responses:
        '201':
          description: Image créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageProduitResponse'

    delete:
      summary: Supprimer toutes les images
      operationId: deleteAllImages
      tags:
        - ImageProduit
      responses:
        '204':
          description: Toutes les images ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/imageProduit/{id}:
    get:
      summary: Récupérer une image par ID
      operationId: getImageById
      tags:
        - ImageProduit
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Image trouvée
          content:
            image/png:
              schema:
                type: string
                format: binary
        '404':
          description: Image non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    put:
      summary: Mettre à jour une image
      operationId: updateImageProduit
      tags:
        - ImageProduit
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageProduitRequest'
      responses:
        '200':
          description: image mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageProduitResponse'
        '404':
          description: Image non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    delete:
      summary: Supprimer une image
      operationId: deleteImageProduit
      tags:
        - ImageProduit
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Image supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Image non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/imageByProductId/{id}:
    get:
      summary: Récupérer une image par ID du produit
      operationId: getImageByProductId
      tags:
        - ImageProduit
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit de l'image a récuperer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Image trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ImageProduitResponse'
        '404':
          description: Image non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/imageBlogPost:
    post:
      summary: Créer une nouvelle image de blog
      operationId: creatImageblogpost
      tags:
        - ImageBlogPost
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageBlogPostRequest'
      responses:
        '201':
          description: Image de blog créée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageBlogPostResponse'
    get:
      summary: Récupérer toutes les images de blog
      operationId: getAllImagesBlogPost
      tags:
        - ImageBlogPost
      responses:
        '200':
          description: Liste des images de blog
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ImageBlogPostResponse'

    delete:
      summary: Supprimer toutes les images de blog
      operationId: deleteAllImagesBlogPost
      tags:
        - ImageBlogPost
      responses:
        '204':
          description: Toutes les images de blog ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/imageBlogPost/{id}:
    put:
      summary: Mettre à jour une image
      operationId: updateImageBlogPost
      tags:
        - ImageBlogPost
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageBlogPostRequest'
      responses:
        '200':
          description: image mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageBlogPostResponse'
        '404':
          description: Image non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'


    get:
      summary: Récupérer une image de blog par ID
      operationId: getImageBlogPostById
      tags:
        - ImageBlogPost
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image de blog à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Image de blog trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageBlogPostResponse'
        '404':
          description: Image de blog non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'


    delete:
      summary: Supprimer une image de blog
      operationId: deleteImageBlogPost
      tags:
        - ImageBlogPost
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'image de blog à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Image de blog supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Image de blog non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/imageByBlogPostId/{id}:
    get:
      summary: Récupérer les images par ID du blog post
      operationId: getImagesByBlogPostId
      tags:
        - ImageBlogPost
      parameters:
        - name: id
          in: path
          required: true
          description: ID du blog post des images à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Images de blog trouvées
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ImageBlogPostResponse'
        '404':
          description: Images de blog non trouvées
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/promotions:
    get:
      summary: Récupérer toutes les promotions
      operationId: getAllPromotions
      tags:
        - Promotions
      responses:
        '200':
          description: Liste des promotions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PromotionResponse'

    post:
      summary: Créer une nouvelle promtion
      operationId: createPromotion
      tags:
        - Promotions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromotionRequest'
      responses:
        '201':
          description: Promotion crée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromotionResponse'

    delete:
      summary: Supprimer toutes les promotions
      operationId: deleteAllPromotions
      tags:
        - Promotions
      responses:
        '204':
          description: Toutes les promotions ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/promotions/{id}:
    get:
      summary: Récupérer une promotion par ID
      operationId: getPromotionById
      tags:
        - Promotions
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la promotion à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Promotion trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromotionResponse'
        '404':
          description: Promotion non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    put:
      summary: Mettre à jour une promotion
      operationId: updatePromotion
      tags:
        - Promotions
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la promotion à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromotionRequest'
      responses:
        '200':
          description: Promotion mise à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PromotionResponse'
        '404':
          description: Promotion non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    delete:
      summary: Supprimer une promotion
      operationId: deletePromotion
      tags:
        - Promotions
      parameters:
        - name: id
          in: path
          required: true
          description: ID de la promotion à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Promotion supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Promotion non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/promotionsByProductId/{id}:
    get:
      summary: Récupérer une promotion par ID du produit
      operationId: getPromotionByProductId
      tags:
        - Promotions
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Promotion trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PromotionResponse'
        '404':
          description: Promotion non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/promotions/active:
    get:
      summary: Récupérer les promotions  actifs
      operationId: getActivePromotions
      tags:
        - Promotions
      responses:
        '200':
          description: Liste des promotions  actifs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PromotionResponse'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/promotions/inactive:
    get:
      summary: Récupérer les promotions inactifs
      operationId: getInActivePromotions
      tags:
        - Promotions
      responses:
        '200':
          description: Liste des promotions inactifs
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PromotionResponse'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/avis:
    get:
      summary: Récupérer toutes les avis
      operationId: getAllAvis
      tags:
        - Avis
      responses:
        '200':
          description: Liste des avis
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AvisResponse'

    post:
      summary: Créer une nouvelle avis
      operationId: createAvis
      tags:
        - Avis
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AvisRequest'
      responses:
        '201':
          description: Avis crée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AvisResponse'

    delete:
      summary: Supprimer toutes les avis
      operationId: deleteAllAvis
      tags:
        - Avis
      responses:
        '204':
          description: Toutes les avis ont été supprimées avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/avis/{id}:
    get:
      summary: Récupérer une avis par ID
      operationId: getAvisById
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'avis à récupérer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Avis trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AvisResponse'
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    put:
      summary: Mettre à jour un avis
      operationId: updateAvis
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'avis à mettre à jour
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AvisRequest'
      responses:
        '200':
          description: Avis mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AvisResponse'
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

    delete:
      summary: Supprimer un avis
      operationId: deleteAvis
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID de l'avis' à supprimer
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: Avis supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '500':
          description: Erreur serveur interne
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/avisByProductId/{id}:
    get:
      summary: Récupérer und avis par ID du produit
      operationId: getAvisByProductId
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit de l'avis a récuperer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Avis trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AvisResponse'

        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/avis/product/{id}:
    get:
      summary: Récupérer und avis par ID du produit
      operationId: getAvisByProductIdPaged
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID du produit de l'avis a récuperer
          schema:
            type: integer
            format: int64
        - name: page
          in: query
          required: false
          description: Page de l'avis
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          description: Nombre d'avis par page
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Avis trouvée
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/AvisResponse'
                  totalElements:
                    type: integer
                    format: int64
                  totalPages:
                    type: integer
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/avis/paged/filtered:
    get:
      summary: Récupérer une liste des avis paged
      operationId: getAvisPaged
      tags:
        - Avis
      parameters:
        - name: productName
          in: query
          required: false
          description: Nom du produit
          schema:
            type: string
        - name: userEmail
          in: query
          required: false
          description: Email de l'utilisateur
          schema:
            type: string
        - name: comment
          in: query
          required: false
          description: Commentaire de l'avis
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: Page de l'avis
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          description: Nombre d'avis par page
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Avis trouvée
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/AvisResponse'
                  totalElements:
                    type: integer
                    format: int64
                  totalPages:
                    type: integer
                  averageRating:
                    type: number
                    format: float
                    default: 0
                  reviewsThisWeek:
                    type: integer
                    format: int64
                    default: 0
                  reviewsWeekAgo:
                    type: integer
                    format: int64
                    default: 0
                  averageRatingsThisWeek:
                    type: number
                    format: float
                    default: 0
                  averageRatingsWeekAgo:
                    type: number
                    format: float
                    default: 0
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/avisByUserId/{id}:
    get:
      summary: Récupérer und avis par ID de user
      operationId: getAvisByUserId
      tags:
        - Avis
      parameters:
        - name: id
          in: path
          required: true
          description: ID de user de l'avis a récuperer
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Avis trouvée
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AvisResponse'
        '404':
          description: Avis non trouvée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/sendPromoCodeEmail:
    post:
      summary: envoyer un email
      operationId: sendPromoCodeEmail
      tags:
        - sendEmail
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailRequest'
      responses:
        '201':
          description: Email envoyé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/sendVerificationEmail:
    post:
      summary: envoyer un email de verification
      operationId: sendVerifEmail
      tags:
        - sendEmail
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailRequest'
      responses:
        '201':
          description: Email envoyé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/sendResetPasswordEmail:
    post:
      summary: envoyer un email de reset password
      operationId: sendResetPasswordEmail
      tags:
        - sendEmail
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailRequest'
      responses:
        '201':
          description: Email envoyé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/activate:
    get:
      summary: activé un compte
      operationId: activate
      tags:
        - SendEmail
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
      responses:
        '201':
          description: Compte activé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/validate-reset-token:
    post:
      summary: valider le token
      operationId: validate-reset-token
      tags:
        - ResetPassword
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
      responses:
        '201':
          description: Token validé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/reset-password:
    post:
      summary: reintialiser le mot de passe
      operationId: reset-password
      tags:
        - ResetPassword
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetTokenRequest'
      responses:
        '201':
          description: mot de passe reintialiser
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/model/train:
    get:
      summary: Entrainer le model
      operationId: train-model
      tags:
        - Model
      parameters:
        - name: loss
          in: query
          required: false
          schema:
            type: string
        - name: learning_rate
          in: query
          required: false
          schema:
            type: number
            format: double
        - name: epochs
          in: query
          required: false
          schema:
            type: integer
        - name: no_components
          in: query
          required: false
          schema:
            type: integer
      responses:
        '201':
          description: Model entrainer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrainModelResponse'
  /v1/model/tune:
    get:
      summary: Tuner le model
      operationId: tune-model
      tags:
        - Model
      parameters:
        - name: n_trials
          in: query
          required: false
          schema:
            type: integer
        - name: epochs
          in: query
          required: false
          schema:
            type: integer
      responses:
        '201':
          description: Model tuner
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TuneModelResponse'
  /v1/recommendation:
    get:
      summary: Recommender des produits
      operationId: recommendation
      tags:
        - Model
      parameters:
        - name: userId
          in: query
          required: false
          schema:
            type: integer
            format: int64
        - name: anonymousUserSessionToken
          in: query
          required: false
          schema:
            type: string
            format: uuid
        - name: num_recs
          in: query
          required: false
          schema:
            type: integer
      responses:
        '201':
          description: Produits recommandé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecommendationResponse'
  /v1/model/config:
    get:
      summary: Configurer le model
      operationId: config
      tags:
        - Model
      responses:
        '201':
          description: Model configurer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelConfigResponse'
  /v1/model/metrics:
    get:
      summary: Recuperer les metrics du model
      operationId: metrics
      tags:
        - Model
      responses:
        '201':
          description: Metrics du model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelMetricsResponse'
  /v1/model/cluster/kmeans:
    get:
      summary: Recuperer les clusters du model
      operationId: cluster_kmeans
      tags:
        - Model
      parameters:
        - name: n_clusters
          in: query
          required: true
          schema:
            type: integer
      responses:
        '201':
          description: Clusters du model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClusterResponse'
  /v1/model/cluster/GMM:
    get:
      summary: Recuperer les clusters du model
      operationId: cluster_GMM
      tags:
        - Model
      parameters:
        - name: n_clusters
          in: query
          required: true
          schema:
            type: integer
      responses:
        '201':
          description: Clusters du model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClusterResponse'
  /v1/model/cluster/compare:
    get:
      summary: Comparer les clusters du model
      operationId: compare-cluster
      tags:
        - Model
      parameters:
        - name: n_clusters
          in: query
          required: true
          schema:
            type: integer
      responses:
        '201':
          description: Clusters du model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClusterComparisonResponse'
#  /v1/utilisateur/anonyme/{anonymeId}:
#    get:
#      summary: Recuperer un utilisateur anonyme
#      operationId: anonyme
#      tags:
#        - UtilisateurAnonyme
#      parameters:
#        - name: anonymeId
#          in: path
#          required: true
#          schema:
#            type: string
#            format: uuid
#      responses:
#        '200':
#          description: Utilisateurs anonyme
#          content:
#            application/json:
#              schema:
#                $ref: '#/components/schemas/UtilisateurAnonymeResponse'
  /v1/utilisateur/anonyme:
    post:
      summary: Create or get an anonymous user
      operationId: getOrCreateAnonyme
      tags:
        - UtilisateurAnonyme
      parameters:
        - name: anonyme_session_token
          in: cookie
          required: false
          schema:
            type: string
            format: uuid
          description: HttpOnly cookie with session token (optional)
      responses:
        '200':
          description: Anonymous user created or retrieved
          headers:
            Set-Cookie:
              description: HttpOnly cookie containing the anonymous session token
              schema:
                type: string
                example: "anonyme_session_token=123e4567-e89b-12d3-a456-426614174000; HttpOnly; Secure; SameSite=Lax; Path=/; Max-Age=31536000"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UtilisateurAnonymeResponse'
  /v1/cookieConsent:
    post:
      summary: Create or get a consent cookie
      operationId: getOrCreateCookieConsent
      tags:
        - CookieConsent
      requestBody:
        required: false   # optional now, because backend can create a new anonymous user if none is provided
        content:
          application/json:
            schema:
              type: object
              properties:
                value:
                  type: string
                  enum:
                    - ACCEPTED
                    - DECLINED
      parameters:
        - name: cookie_consent
          in: cookie
          required: false
          schema:
            type: string
            enum:
              - ACCEPTED
              - DECLINED
          description: HttpOnly cookie with cookie consent (optional)
      responses:
        '200':
          description: Cookie created or retrieved
          headers:
            Set-Cookie:
              description: HttpOnly cookie containing the cookie consent
              schema:
                type: string
                example: "cookie_consent=accepted; HttpOnly; Secure; SameSite=None; Path=/; Max-Age=31536000"
          content:
            application/json:
              schema:
                type: object
                properties:
                  cookieConsentExist:
                    type: boolean

  /v1/variant/{variantId}:
    get:
      summary: Recuperer une variante
      operationId: getVariant
      tags:
        - Variant
      parameters:
        - name: variantId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Variante
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VariantResponse'
    delete:
      summary: Supprimer une variante
      operationId: deleteVariant
      tags:
        - Variant
      parameters:
        - name: variantId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '201':
          description: Variante supprimée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/user/notifs/{userId}:
    get:
      summary: Recuperer les notifications d'un utilisateur
      operationId: getNotifs
      tags:
        - Notification
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Notifications
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserNotifResponse'
  /v1/user/notifs/markAllAsRead/{userId}:
    put:
      summary: Marquer toutes les notifications d'un utilisateur comme lues
      operationId: markAllAsRead
      tags:
        - Notification
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/NotificationResponse'
      responses:
        '200':
          description: Notifications
          content:
            application/json:
              schema:
                type: object
                properties:
                  unreadCount:
                    type: integer
                    format: int64
  /v1/analytics:
    get:
      summary: Recuperer les analytics
      operationId: analytics
      tags:
        - Analytics
      responses:
        '200':
          description: Analytics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/contacts:
    post:
      summary: Créer un contact client
      operationId: createContact
      tags:
        - Contact
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContactCreateRequestDto'
      responses:
        '201':
          description: Contact créé avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactDto'

    get:
      summary: Liste des contacts
      operationId: getContacts
      tags:
        - Contact
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          required: false
          schema:
            type: integer
            default: 10
        - name: type
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/TypeContact'
        - name: statusContact
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/StatusContact'
        - name: refundMethod
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/RefundMethod'
        - name: sort
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/SortEnum'

      responses:
        '200':
          description: Liste de tous les contacts
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      $ref: '#/components/schemas/ContactDto'
                  totalElements:
                    type: integer
                    format: int64
                    example: 42
                  totalPages:
                    type: integer
                    example: 5
                  currentPage:
                    type: integer
                    example: 1
                  size:
                    type: integer
                    example: 10

  /v1/contacts/{id}:
    get:
      summary: Obtenir un contact par ID
      operationId: getContactById
      tags:
        - Contact
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Contact trouvé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactDto'
        '404':
          description: Contact non trouvé

  /v1/contacts/{id}/status:
    put:
      summary: Mise à jour du statut d’un contact (admin)
      operationId: updateContactStatus
      tags:
        - Contact
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContactStatusUpdateDto'
      responses:
        '200':
          description: Statut mis à jour
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Contact non trouvé
  /v1/whishlist/{user_id}:
    get:
      summary: Obtenir la liste de souhait
      operationId: getWhishlistByUserId
      tags:
        - Whishlist
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: liste de souhait récupérée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WhishlistDto'
        '404':
          description: liste de souhait non trouvée
    delete:
      summary: enlever tout les produits d'une liste de souhait
      operationId: removeAllProductsFromWhishlist
      tags:
        - Whishlist
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: produits enlevés
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'

  /v1/product/{product_id}/whishlist/user/{user_id}:
    post:
      summary: ajouter un produit dans une liste de souhait
      operationId: addProductToWhishlist
      tags:
        - Whishlist
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: user_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: produit ajouter à la liste des souhaits
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
    delete:
      summary: enlever un produit d'une liste de souhait
      operationId: removeProductFromWhishlist
      tags:
        - Whishlist
      parameters:
        - name: product_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: user_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: produit enlevé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'



  /v1/upload:
    post:
      summary: Créer une nouvelle image
      operationId: uploadImage
      tags:
        - Images
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageUploadRequest'
      responses:
        '200':
          description: url d'image
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageUploadResponse'
  /v1/upload/{filename}:
    delete:
      summary: Supprimer une image
      operationId: deleteImage
      tags:
        - Images
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Image supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Image non trouvée


  /v1/section:
    post:
      summary: Créer une nouvelle section
      operationId: createSection
      tags:
        - Params
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamSectionRequest'
      responses:
        '200':
          description: Section créée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamSectionResponse'

    get:
      summary: Récupérer la liste de toutes les sections
      operationId: getAllSections
      tags:
        - Params
      responses:
        '200':
          description: Liste des sections récupérée avec succès
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParamSectionResponse'

  /v1/section/{id}:
    get:
      summary: Récupérer une section par son identifiant
      operationId: getSectionById
      tags:
        - Params
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Section récupérée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamSectionResponse'
        '404':
          description: Section non trouvée
    put:
      summary: Mettre à jour une section existante
      operationId: updateSection
      tags:
        - Params
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParamSectionRequest'
      responses:
        '200':
          description: Section mise à jour avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParamSectionResponse'

    delete:
      summary: Supprimer une section par son identifiant
      operationId: deleteSection
      tags:
        - Params
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Section supprimée avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        '404':
          description: Section non trouvée

  /v1/section/type/{type}:
    get:
      summary: Récupérer une section par son type
      operationId: getSectionByType
      tags:
        - Params
      parameters:
        - name: type
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/TypeSectionDto'
      responses:
        '200':
          description: Section récupérée avec succès
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParamSectionResponse'
        '404':
          description: Section non trouvée

  /v1/section/pageType/{type}:
    get:
      summary: Récupérer une section par type de page
      operationId: getSectionByPageType
      tags:
        - Params
      parameters:
        - name: type
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/TypePageDto'
      responses:
        '200':
          description: Section récupérée avec succès
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ParamSectionResponse'
        '404':
          description: Section non trouvée

  /v1/section/image:
    post:
      summary: Créer une nouvelle image
      operationId: createImageSection
      tags:
        - Params
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageRequest'
      responses:
        '201':
          description: Image crée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImageUploadResponse'

  /v1/section/image/{section_id}:
    delete:
      summary: Supprimer l'image du section
      operationId: deleteImageSection
      tags:
        - Params
      parameters:
        - name: section_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Section supprimée avec succès
        '404':
          description: Section non trouvée
  /v1/newsletter/subscribe:
    post:
      summary: Subscribe email
      operationId: subscribe
      tags:
        - NewsLetter
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
      responses:
        '201':
          description: Adresse email enregistrée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/newsletter/unsubscribe:
    get:
      summary: UnSubscribe email
      operationId: UnSubscribe
      tags:
        - NewsLetter
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Abonnement annulé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/newsletter/confirm:
    get:
      summary: Subscribe email
      operationId: confirmSubscription
      tags:
        - NewsLetter
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Abonnement confirmé
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
  /v1/configurationGlobal:
    post:
      summary: Créer ou mettre à jour une configuration
      operationId: createOrUpdateConfig
      tags:
        - ConfigurationGlobal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfigurationGlobalRequest'
      responses:
        '201':
          description: Config créé avec succès
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigurationGlobalResponse'
    get:
      summary: Récupérer une configuration
      operationId: getConfig
      tags:
        - ConfigurationGlobal
      responses:
        '201':
          description: Config récupérée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigurationGlobalResponse'
  /v1/meta/download/catalogueCsv:
    get:
      summary: "Download catalogue as CSV"
      operationId: DownloadCatalogueCsv
      tags:
        - MetaPixel
      responses:
        '201':
          description: CSV file
          headers:
            Content-Disposition:
              description: Attachment header
              schema:
                type: string
                example: attachment; filename="catalogue.csv"
          content:
            text/csv:
              schema:
                type: string
                format: binary
  /v1/meta/pixel/event:
    post:
      summary: "Send event"
      operationId: SendMetaPixelEvent
      tags:
        - MetaPixel
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MetaPixelEventRequest'
      responses:
        '201':
          description: Event envoyé avec succée
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
#  /v1/variants/stock/details:
#    get:
#      summary: Récupérer le stock de tous les produits
#      operationId: getStockDetails
#      tags:
#        - Variant
#      parameters:
#        - name: stockMoreThan
#          in: query
#          description: Stock minimum
#          schema:
#            type: integer
#            format: int64
#            minimum: 0
#            default: 0
#        - name: stockLessThan
#          in: query
#          schema:
#            type: integer
#            format: int64
#            minimum: 0
#            default: 0
#        - name: stockEquals
#          in: query
#          schema:
#            type: integer
#            format: int64
#            minimum: 0
#            default: 0
#      responses:
#        '200':
#          description: Détails du stock
#          content:
#            application/json:
#              schema:
#                type: object
#                properties:
#                  inStock:
#                    type: integer
#                    format: int64
#                    example: 42
#                  lowStock:
#                    type: integer
#                    format: int64
#                    example: 42
#                  outOfStock:
#                    type: integer
#                    format: int64
#                    example: 42
#                  totalProducts:
#                    type: integer
#                    format: int64
#                    example: 42
components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://accounts.google.com/o/oauth2/auth
          tokenUrl: https://oauth2.googleapis.com/token
          scopes:
            email: Access email
            profile: Access profile information
  schemas:
    PasswordResetTokenRequest:
      type: object
      properties:
        newPassword:
          type: string
          description: The new password
        confirmPassword:
          type: string
          description: The confirm password
      required:
        - token
        - newPassword
        - confirmPassword
    SendEmailRequest:
      type: object
      properties:
        to:
          type: string
          format: email
        subject:
          type: string
        text:
          type: string
        file:
          type: string
        codePromo:
          type: string
      required:
        - to
    ActivateAccountRequest:
      type: object
      properties:
        token:
          type: string
      required:
        - token
    SignupUserRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: user@example.com
        genre:
          type: string
          enum: [ MALE, FEMELLE ]
          example: 'MALE'
        dateNaissance:
          type: string
          format: date
          example: '2000-01-01'
        password:
          type: string
          format: password
          example: 'MotDePasseSecure123!'
        nom:
          type: string
          example: 'Dupont'
        prenom:
          type: string
          example: 'Jean'
        telephone:
          type: string
          example: '0606060606'
        roles:
          type: array
          items:
            type: string
            example: 'CLIENT'
        isverified:
          type: boolean
          example: true
          default: false
        reCaptchaToken:
          type: string
          example: 'captcha_token_example'
      required:
        - email
        - password
        - roles
        - isverified
        - reCaptchaToken
    UtilisateurAnonymeRequest:
      type: object
      properties:
        sessionToken:
          type: string
          format: uuid
    UtilisateurAnonymeResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
        sessionToken:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
    UserRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
          example: user@example.com
        genre:
          type: string
          example: 'MALE'
        dateNaissance:
          type: string
          format: date
          example: '2000-01-01'
        password:
          type: string
          format: password
          example: 'MotDePasseSecure123!'
        nom:
          type: string
          example: 'Jean Dupont'
        prenom:
          type: string
          example: 'Jean'
        telephone:
          type: string
          example: '0606060606'
        roles:
          type: array
          items:
            type: string
            example: 'CLIENT'
        isverified:
          type: boolean
          example: true
          default: false
      required:
        - prenom
        - telephone
        - nom
    UserResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        email:
          type: string
          format: email
          example: user@example.com
        nom:
          type: string
          example: 'Jean Dupont'
        prenom:
          type: string
          example: 'Jean'
        telephone:
          type: string
          example: '0606060606'
        genre:
          type: string
          example: 'MALE'
        dateNaissance:
          type: string
          format: date
          example: '2000-01-01'
        roles:
          type: array
          items:
            type: string
            example: 'CLIENT'
        isverified:
          type: boolean
          example: true
        loyaltyGroup:
          type: integer
          example: 1
        imageUrl:
          type: string

    SigninUserRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: user@example.com
        password:
          type: string
          format: password
          example: 'MotDePasseSecure123!'
        reCaptchaToken:
          type: string
          example: 'captcha_token_example'
      required:
        - email
        - password
        - reCaptchaToken
    RecaptchaResponse:
      type: object
      properties:
        success:
          type: boolean
        score:
          type: number
          format: float
        action:
          type: string
        challenge_ts:
          type: string
        hostname:
          type: string
        error_codes:
          type: array
          items:
            type: string
    SigninGoogleRequest:
      type: object
      properties:
        idToken:
          type: string
          example: 'google_token_example'
      required:
        - idToken

    SigninFacebookRequest:
      type: object
      properties:
        accessToken:
          type: string
          example: 'facebook_token_example'
      required:
        - accessToken
    RefreshTokenRequest:
      type: object
#      properties:
#        accessToken:
#          type: string
#          example: 'accessToken_token_example'
    TokenResponse:
      type: object
      properties:
        Token:
          type: string
          example: 'token_example'
        RefreshToken:
          type: string
          example: 'RefreshTokenExample'
      required:
        - Token
    AuthenticationRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        password:
          type: string
          format: password
          example: 'MotDePasseSecure123!'
        providerId:
          type: string
          example: '0'
        type:
          type: string
          example: 'LOCAL'
        userId:
          type: integer
          format: int64
          example: 1
      required:
        - password
        - providerId
        - type
        - userId

    ArticleRequest:
      type: object
      properties:
        titre:
          type: string
          description: Le titre de l'article
          maxLength: 250
        contenu:
          type: string
          description: Le contenu de l'article
        auteur:
          type: string
          description: L'auteur de l'article
        status:
          type: string
          description: Le statut de publication de l'article
          enum:
            - BROUILLON
            - PUBLIER
            - ARCHIVE
          default: BROUILLON
        imageId:
          type: array
          items:
            type: integer
            format: int64
          description: Liste des IDs des images à associer à l'article
      required:
        - titre
        - contenu
        - status
    ArticleResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'article
        titre:
          type: string
          description: Le titre de l'article
        contenu:
          type: string
          description: Le contenu de l'article
        auteur:
          type: string
          description: L'auteur de l'article
        status:
          type: string
          description: Le statut de publication de l'article
          enum:
            - BROUILLON
            - PUBLIER
            - ARCHIVE
        datePublication:
          type: string
          format: date-time
          description: La date du publication
        image:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID unique de l'image
              url:
                type: string
                description: l'url de l'image


    CommandeRequest:
      type: object
      properties:
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur ayant passé la commande
        nom:
          type: string
          description: Le nom de l'utilisateur ayant passer la commande
        prenom:
          type: string
          description: Le prenom de l'utilisateur ayant passer la commande
        email:
          type: string
          format: email
          description: L'email de l'utilisateur ayant passer la commande
        telephone:
          type: string
          description: Le telephone de l'utilisateur ayant passer la commande
        modePaiement:
          $ref: '#/components/schemas/ModePaiementEnum'
        codePromo:
          type: string
          description: Le code promo de la commande
        total:
          type: number
          format: double
          minimum: 0
          description: Le total de la commande
        shipping:
          type: number
          format: double
          description: Les frais d'expédition
        adresseLivraisonId:
          type: integer
          format: int64
          description: L'ID de l'adresse de livraison de la commande
        adresseFacturationId:
          type: integer
          format: int64
          description: L'ID de l'adresse de facturation de la commande
        token:
          type: string
          description: Le token de la commande
        produits:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              variants:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      example: 15
                    reservedQuantity:
                      type: integer
                      format: int64
                      example: 0
                  required:
                    - id
                    - reservedQuantity
              prixTotal:
                type: number
                format: double
                example: 50.0
              prix:
                type: number
                format: double
                example: 50.0
              newPrice:
                type: number
                format: double
                example: 50.0
            required:
              - id
              - variants
              - prixTotal
              - prix
              - newPrice
      required:
        - nom
        - prenom
        - email
        - telephone
        - token
        - total
        - adresseLivraisonId
        - adresseFacturationId
        - modePaiement

    CommandeResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de la commande
        nom:
          type: string
        prenom:
          type: string
        email:
          type: string
        telephone:
          type: string
        utilisateur:
          type: object
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique de l'utilisateur ayant passer la commande
            email:
              type: string
              description: L'email de l'utilisateur ayant passer la commande
            nom:
              type: string
              description: Le nom de l'utilisateur ayant passer la commande
            prenom:
              type: string
              description: Le prenom de l'utilisateur ayant passer la commande
            telephone:
              type: string
              description: numéro de téléphone
        produits:
          type: array
          items:
            type: object
            properties:
              productId:
                type: integer
                format: int64
                description: L'ID unique du produit
              variantId:
                type: integer
                format: int64
                description: L'ID unique du variant
              nom:
                type: string
                description: Le titre de l'article
              categorie:
                type: string
              quantite:
                type: integer
                format: int64
                description: La quantité de l'article dans la commande
              prixTotal:
                type: number
                format: double
                description: Le prix total de l'article dans la commande
              prix:
                type: number
                format: double
                description: Le prix unitaire de l'article
              couleur:
                type: string
              taille:
                type: string
              imageProduits:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      description: L'ID unique de l'image de l'article
                    url:
                      type: string
        date:
          type: string
          format: date-time
          description: La date de la commande
        statut:
          $ref: '#/components/schemas/StatusCommandeEnum'
        modePaiement:
          type: string
          description: Le mode de paiement de la commande
        codePromo:
          type: object
          description: Détails du code promo de la commande
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique du code promo
            code:
              type: string
              description: Le code du code promo
            reduction:
              type: number
              format: double
              description: La reduction du code promo
            dateExpiration:
              type: string
              format: date-time
              description: La date d'expiration du code promo
        total:
          type: number
          format: double
          description: Le total de la commande
        adresseLivraison:
          type: object
          description: Détails de l'adresse de livraison de la commande
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique de l'adresse de livraison
            ligne1:
              type: string
              description: La ligne 1 de l'adresse de livraison
            ligne2:
              type: string
              description: La ligne 2 de l'adresse de livraison
            ville:
              type: string
              description: La ville de l'adresse de livraison
            codePostal:
              type: string
              description: Le code postal de l'adresse de livraison
            pays:
              type: string
              description: Le pays de l'adresse de livraison
            type:
              type: string
              description: Le type de l'adresse de livraison
        adresseFacturation:
          type: object
          description: Détails de l'adresse de facturation de la commande
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique de l'adresse de facturation
            ligne1:
              type: string
              description: La ligne 1 de l'adresse de facturation
            ligne2:
              type: string
              description: La ligne 2 de l'adresse de facturation
            ville:
              type: string
              description: La ville de l'adresse de facturation
            codePostal:
              type: string
              description: Le code postal de l'adresse de facturation
            pays:
              type: string
              description: Le pays de l'adresse de facturation
            type:
              type: string
              description: Le type de l'adresse de facturation
        paiements:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID unique du paiement
              date:
                type: string
                format: date-time
                description: La date du paiement
              paiementRef:
                type: string
                description: La reference du paiement
              status:
                type: string
                enum: [ completed, pending, expired ]
    CommandeGuestRequest:
      type: object
      properties:
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur ayant passé la commande
        nom:
          type: string
          description: Le nom de l'utilisateur ayant passer la commande
        prenom:
          type: string
          description: Le prenom de l'utilisateur ayant passer la commande
        email:
          type: string
          format: email
          description: L'email de l'utilisateur ayant passer la commande
        telephone:
          type: string
          description: Le telephone de l'utilisateur ayant passer la commande
        modePaiement:
          $ref: '#/components/schemas/ModePaiementEnum'
        codePromo:
          type: string
          description: Le code promo de la commande
        total:
          type: number
          format: double
          minimum: 0
          description: Le total de la commande
        shipping:
          type: number
          format: double
          description: Les frais d'expédition
        adresseLivraisonId:
          type: integer
          format: int64
          description: L'ID de l'adresse de livraison de la commande
        adresseFacturationId:
          type: integer
          format: int64
          description: L'ID de l'adresse de facturation de la commande
        token:
          type: string
          description: Le token de la commande
        produits:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              variants:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      example: 15
                    cartQuantity:
                      type: integer
                      format: int64
                      example: 0
                  required:
                    - id
                    - cartQuantity
              prixTotal:
                type: number
                format: double
                example: 50.0
              prix:
                type: number
                format: double
                example: 50.0
              newPrice:
                type: number
                format: double
                example: 50.0
            required:
              - id
              - variants
              - prixTotal
              - prix
              - newPrice
      required:
        - nom
        - prenom
        - email
        - telephone
        - token
        - total
        - adresseLivraisonId
        - adresseFacturationId
        - modePaiement
    CommandeAdminRequest:
      type: object
      properties:
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur ayant passé la commande
        nom:
          type: string
          description: Le nom de l'utilisateur ayant passer la commande
        prenom:
          type: string
          description: Le prenom de l'utilisateur ayant passer la commande
        email:
          type: string
          format: email
          description: L'email de l'utilisateur ayant passer la commande
        telephone:
          type: string
          description: Le telephone de l'utilisateur ayant passer la commande
        modePaiement:
          $ref: '#/components/schemas/ModePaiementEnum'
        codePromo:
          type: string
          description: Le code promo de la commande
        total:
          type: number
          format: double
          minimum: 0
          description: Le total de la commande
        shipping:
          type: number
          format: double
        adresseLivraisonId:
          type: integer
          format: int64
          description: L'ID de l'adresse de livraison de la commande
        adresseFacturationId:
          type: integer
          format: int64
          description: L'ID de l'adresse de facturation de la commande
        token:
          type: string
          description: Le token de la commande
        produits:
          type: array
          items:
            allOf:
              - $ref: '#/components/schemas/LigneCommandeRequest'
              - type: object
                properties:
                  newPrice:
                    type: number
                    format: double
                    description: Prix du produit après réduction
      required:
        - utilisateurId
        - nom
        - prenom
        - email
        - telephone
        - token
        - total
        - adresseLivraisonId
        - adresseFacturationId
        - modePaiement
    MergeCommandeRequest:
      type: object
      properties:
        idUser:
          type: integer
          format: int64
        idUserAnonyme:
          type: integer
          format: int64
      required:
        - idUser
        - idUserAnonyme
    LigneCommandeRequest:
      type: object
      properties:
        variantId:
          type: integer
          format: int64
        quantite:
          type: integer
          format: int64
        prixTotal:
          type: number
          format: double
        shipping:
          type: number
          format: double
    FactureRequest:
      type: object
      properties:
        commandeId:
          type: integer
          format: int64
          description: L'ID unique de la commande
        total:
          type: number
          format: double
          description: Le montant de la facture
      required:
        - commandeId
        - montant
    FactureResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de la facture
        commande:
          $ref: '#/components/schemas/CommandeResponse'
        total:
          type: number
          format: double
          description: Le total de la facture
        dateEmission:
          type: string
          format: date-time
          description: La date de la facture
    AdresseRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'adresse
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur ayant passé la commande
        ligne1:
          type: string
          description: La ligne 1 de l'adresse
        ligne2:
          type: string
          description: La ligne 2 de l'adresse
        ville:
          type: string
          description: La ville de l'adresse
        codePostal:
          type: string
          description: Le code postal de l'adresse
        pays:
          type: string
          description: Le pays de l'adresse
        type:
          type: string
          description: Le type de l'adresse
      required:
        - ligne1
        - ville
        - codePostal
        - pays
    AdresseResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'adresse
        utilisateur:
          type: object
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique de l'utilisateur ayant passer la commande
            email:
              type: string
              description: L'email de l'utilisateur ayant passer la commande
            nom:
              type: string
              description: Le nom de l'utilisateur ayant passer la commande
        ligne1:
          type: string
          description: La ligne 1 de l'adresse
        ligne2:
          type: string
          description: La ligne 2 de l'adresse
        ville:
          type: string
          description: La ville de l'adresse
        codePostal:
          type: string
          description: Le code postal de l'adresse
        pays:
          type: string
          description: Le pays de l'adresse
        type:
          type: string
          description: Le type de l'adresse
    CodePromoRequest:
      type: object
      properties:
        dateExpiration:
          type: string
          format: date-time
          description: La date d'expiration du promo
        code:
          type: string
          description: Le code du promo
        reduction:
          type: number
          format: double
          description: Le taux de réduction du code promo
      required:
        - dateExpiration
        - code
        - reduction
    CodePromoResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID du code promo
        code:
          type: string
          description: le code du codePromo
        dateExpiration:
          type: string
          format: date-time
          description: La date d'expiration du codePromo
        reduction:
          type: number
          format: double
          description: Le taux de reduction du code promo
    PaiementRequest:
      type: object
      properties:
        receiverWalletId:
          type: string
          example: "5f7a209aeb3f76490ac4a3d1"
        token:
          type: string
          example: "TND"
        amount:
          type: number
          format: double
          example: 10000
        type:
          type: string
          enum: [ immediate, delayed ]
          example: "immediate"
        description:
          type: string
          example: "description du paiement"
        acceptedPaymentMethods:
          type: array
          items:
            type: string
            enum: [ wallet, bank_card, e-DINAR ]
          example: [ "wallet", "bank_card", "e-DINAR" ]
        lifespan:
          type: integer
          example: 10
        checkoutForm:
          type: boolean
          example: true
          default: false
        addPaymentFeesToAmount:
          type: boolean
          example: true
          default: false
        firstName:
          type: string
          example: "John"
        lastName:
          type: string
          example: "Doe"
        phoneNumber:
          type: string
          example: "22777777"
        email:
          type: string
          format: email
          example: "john.doe@gmail.com"
        orderId:
          type: string
          example: "1234657"
        webhook:
          type: string
          format: uri
          example: "https://merchant.tech/api/notification_payment"
        silentWebhook:
          type: boolean
          default: false
          description: If true, calls webhook without redirecting payer
        theme:
          type: string
          enum: [ light, dark ]
          example: "dark"
        successUrl:
          type: string
          format: uri
          example: "https://merchant.tech/success"
          description: Redirect URL for successful payment (ignored if webhook is active and not silent)
        failUrl:
          type: string
          format: uri
          example: "https://merchant.tech/failure"
          description: Redirect URL for failed payment (ignored if webhook is active and not silent)
      required:
        - receiverWalletId
        - token
        - amount
        - type
        - acceptedPaymentMethods
    PaiementResponse:
      type: object
      properties:
        payUrl:
          type: string
          format: uri
          description: L'url de paiement
        paymentRef:
          type: string
          description: La reference de paiement
    WebhookResponse:
      type: object
      properties:
        payment:
          type: object
          properties:
            id:
              type: string
            status:
              type: string
              enum: [ completed, pending, expired ]
            amount:
              type: number
            token:
              type: string
            orderId:
              type: string
            type:
              type: string
            convertedAmount:
              type: number
            exchangeRate:
              type: number
            webhook:
              type: string
              format: uri
            successUrl:
              type: string
              format: uri
            failUrl:
              type: string
              format: uri
            acceptedPaymentMethods:
              type: array
              items:
                type: string
            transactions:
              type: array
              items:
                type: object
                additionalProperties: true
            failedTransactions:
              type: number
            successfulTransactions:
              type: number
            paymentDetails:
              type: object
              properties:
                phoneNumber:
                  type: string
                email:
                  type: string
                  format: email
                name:
                  type: string
            createdAt:
              type: string
              format: date-time
            updatedAt:
              type: string
              format: date-time
          additionalProperties: true
    PanierRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique du panier
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur propriétaire du panier
        articles:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID de l'article dans le panier
              quantite:
                type: integer
                description: La quantité de l'article dans le panier
      required:
        - utilisateurId
        - articles

    PanierResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique du panier
        utilisateurId:
          type: integer
          format: int64
          description: L'ID de l'utilisateur propriétaire du panier
        articles:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID unique du produit
              nom:
                type: string
                description: Nom du produit
              description:
                type: string
                description: Description du produit
              prix:
                type: number
                format: double
                description: Prix du produit
              variants:
                type: array
                description: Liste des variantes
                items:
                  $ref: '#/components/schemas/VariantResponse'
              categorie:
                type: object
                description: Détails de la catégorie du produit
                properties:
                  id:
                    type: integer
                    format: int64
                    description: L'ID de la catégorie
                  nom:
                    type: string
                    description: Nom de la catégorie
                  description:
                    type: string
                    description: Description du produit
              promotions:
                type: array
                description: Liste des promotions appliquées au produit
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      description: L'ID de la promotion
                    nom:
                      type: string
                      description: Nom de la promotion
                    reduction:
                      type: number
                      format: double
                      description: Pourcentage ou montant de la réduction
                    type:
                      type: string
                    dateDebut:
                      type: string
                      format: date-time
                      description: Date début du promotion
                    dateFin:
                      type: string
                      format: date-time
                      description: Date fin du promotion
              imageProduits:
                type: array
                description: Liste des images appliquées au produit
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      format: int64
                      description: L'ID de l'image
                    url:
                      type: string
      required:
        - id
        - utilisateurId
        - articles
    CartItemRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID de l'article dans le panier
        quantite:
          type: integer
          format: int64
          description: La quantité de l'article dans le panier
          minimum: 1
      required:
        - quantite
    ProductRequest:
      type: object
      properties:
        nom:
          type: string
          description: Nom du produit
        description:
          type: string
          description: Description du produit
        composition:
          type: string
          description: Composition du produit
        guide:
          type: string
          description: Guide du produit
        faq:
          type: string
          description: FAQ du produit
        prix:
          type: number
          format: double
          description: Prix du produit
        categorie:
          type: integer
          format: int64
          description: Catégorie du produit
        promotions:
          type: array
          items:
            type: integer
            format: int64
        imageId:
          type: array
          items:
            type: integer
            format: int64
        marque:
          type: string
          description: Marque du produit
        actif:
          type: boolean
          default: false
        variants:
          type: array
          items:
            $ref: '#/components/schemas/VariantRequest'
      required:
        - nom
        - prix
        - categorie
    ProductResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique du produit
        nom:
          type: string
          description: Nom du produit
        description:
          type: string
          description: Description du produit
        composition:
          type: string
          description: Composition du produit
        guide:
          type: string
          description: Guide du produit
        faq:
          type: string
          description: FAQ du produit
        marque:
          type: string
          description: Marque du produit
        actif:
          type: boolean
          description: statut du produit
        prix:
          type: number
          format: double
          description: Prix du produit
        categorie:
          type: object
          description: Détails de la catégorie du produit
          properties:
            id:
              type: integer
              format: int64
              description: L'ID de la catégorie
            nom:
              type: string
              description: Nom de la catégorie
            description:
              type: string
              description: Description du produit
        promotions:
          type: array
          description: Liste des promotions appliquées au produit
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID de la promotion
              nom:
                type: string
                description: Nom de la promotion
              reduction:
                type: number
                format: double
                description: Pourcentage ou montant de la réduction
              type:
                type: string
              dateDebut:
                type: string
                format: date-time
                description: Date début du promotion
              dateFin:
                type: string
                format: date-time
                description: Date fin du promotion
        imageProduits:
          type: array
          description: Liste des images appliquées au produit
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID de l'image
              url:
                type: string
        avis:
          type: array
          description: Liste des avis appliquées au produit
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID de l'avis
              note:
                type: number
                format: double
                description: Note de l'avis
              commentaire:
                type: string
                description: Commentaire de l'avis
              datePublication:
                type: string
                format: date-time
                description: Date de publication de l'avis
              utilisateur:
                type: object
                properties:
                  id:
                    type: integer
                    format: int64
                    description: L'ID de l'utilisateur
                  nom:
                    type: string
                    description: Nom de l'utilisateur
                  prenom:
                    type: string
                    description: Prénom de l'utilisateur
                  email:
                    type: string
                    description: Email de l'utilisateur
        variants:
          type: array
          description: Liste des variants appliquées au produit
          items:
            $ref: '#/components/schemas/VariantResponse'
      required:
        - id
        - nom
        - description
        - prix
        - categorie
#        - dateCreation
    CategorieRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        nom:
          type: string
          description: Nom du categorie
        description:
          type: string
          description: Description du produit
      required:
        - nom
    CategorieResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique du categorie
        nom:
          type: string
          description: Nom du categorie
        description:
          type: string
          description: Description du categorie
      required:
        - nom
        - description
    ImageProduitRequest:
      type: object
      properties:
        produitId:
          type: integer
          format: int64
          description: L'ID unique du produit
        contenu:
          type: string
          format: binary
      required:
        - produitId
        - contenu
    ImageProduitResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'image
        url:
          type: string
        produit:
          type: object
          description: Description du produit
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique du produit de l'image
            nom:
              type: string
              description: nom du produit de l'image
            description:
              type: string
              description: description du produit de l'image

      required:
        - url
#        - produit

    ImageBlogPostRequest:
      type: object
      properties:
        image:
          type: string
          format: binary
          description: Fichier image à uploader
        blogPostId:
          type: integer
          format: int64
          description: L'ID unique du blog post associé
      required:
        - image # Rendre le champ obligatoire
        - blogPostId
        # 'image' est optionnel si l'image est modifiable ou déjà existante


    ImageBlogPostResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'image
        url:
          type: string
          description: URL de l'image
        blogPost:
          type: object
          description: Description du blog post associé
          properties:
            id:
              type: integer
              format: int64
              description: L'ID unique du blog post
            titre:
              type: string
              description: Titre du blog post
            description:
              type: string
              description: Description du blog post
      required:
        - url
        - image
    ImageUploadRequest:
      type: object
      properties:
        file:
          type: string
          format: binary
          description: Fichier image à uploader
      required:
        - file # Rendre le champ obligatoire
    ImageUploadResponse:
      type: object
      properties:
        filename:
          type: string

    PromotionRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        nom:
          type: string
          description: Nom du promotion
        description:
          type: string
          description: Description du promotion
        reduction:
          type: number
          format: double
          description: pourcentage reduction du promotion
          minimum: 1
          maximum: 100
        type:
          type: string
          enum: [ "PERCENTAGE",
                  "FIXED" ]
        dateDebut:
          type: string
          format: date-time
          description: date debut du promotion
        dateFin:
          type: string
          format: date-time
          description: date fin du promotion
        produitId:
          type: integer
          format: int64
      required:
        - nom
        - reduction
        - dateDebut
        - dateFin
        - type

    PromotionResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique du promotion
        nom:
          type: string
          description: Nom du promotion
        description:
          type: string
          description: Description du promotion
        reduction:
          type: number
          format: double
          description: pourcentage reduction du promotion
        type:
          type: string
          enum: [ "PERCENTAGE",
                  "FIXED" ]
        dateDebut:
          type: string
          format: date-time
          description: date debut du promotion
        dateFin:
          type: string
          format: date-time
          description: date fin du promotion
      required:
        - nom
        - description
        - reduction
        - dateDebut
        - dateFin
        - produit
        - type
    AvisRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        note:
          type: integer
          minimum: 0
          maximum: 5
          description: note de l'avis
        commentaire:
          type: string
          description: Commentaire
        datePublication:
          type: string
          format: date-time
          description: date de publication de l'avis
        utilisateurId:
          type: integer
          format: int64
          description: Id de l'utilisateur
        produitId:
          type: integer
          format: int64
          description: Id du produit
      required:
        - note
        - commentaire
        - utilisateurId
        - produitId
    AvisResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'avis
        note:
          type: integer
          description: note de l'avis
        commentaire:
          type: string
          description: Commentaire
        datePublication:
          type: string
          format: date-time
          description: date de publication de l'avis
        utilisateur:
          type: object
          properties:
            id:
              type: integer
              format: int64
            nom:
              type: string
            email:
              type: string
        produit:
          type: object
          properties:
            id:
              type: integer
              format: int64
            nom:
              type: string
      required:
        - nom
        - description
        - utilisateur
        - produit
    SuiviClientRequest:
      type: object
      properties:
        utilisateurId:
          type: integer
          format: int64
          description: Id de l'utilisateur
        produitId:
          type: integer
          format: int64
          description: Id du produit
        typeAction:
          type: string
          enum: [ "VIEW_PRODUCT",
                  "ADD_TO_CART",
                  "REMOVE_FROM_CART",
                  "PURCHASE",
                  "LEAVE_REVIEW",
                  "SEARCH_CLICK",
                  "PRODUCT_HOVER"]
          description: Type de l'action
        utilisateurAnonymeUuid:
          type: string
          format: uuid
          description: Id de l'utilisateur anonyme
    VariantRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        color:
          type: string
        size:
          type: string
        quantity:
          type: integer
          format: int64
      required:
        - color
        - size
        - quantity
    VariantResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de la variant
        productId:
          type: integer
          format: int64
          description: L'ID unique du produit
        color:
          type: string
        size:
          type: string
        quantity:
          type: integer
          format: int64
        availableQuantity:
          type: integer
          format: int64
        reservedQuantity:
          type: integer
          format: int64
      required:
        - id
        - color
        - size
    RecommendationResponse:
      type: object
      properties:
        user_key:
          type: string
          description: Clef de l'utilisateur
        recommended_products:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
                description: L'ID unique du produit
            required:
              - id
        model_config:
          $ref: '#/components/schemas/ModelConfigResponse'
      required:
        - user_key
        - recommended_products


    ModelConfigResponse:
      type: object
      properties:
        loss:
          type: string
          description: Type de loss
        no_components:
          type: integer
          format: int64
          description: Nombre de composants
        learning_rate:
          type: number
          format: double
          description: Taux d'apprentissage
        item_alpha:
          type: number
          format: double
          description: Alpha de l'item
        user_alpha:
          type: number
          format: double
          description: Alpha de l'utilisateur
        max_sampled:
          type: integer
          format: int64
          description: Nombre maximum de samples
        epochs:
          type: integer
          format: int64
          description: Nombre d'epochs
        num_threads:
          type: integer
          format: int64
          description: Nombre de threads

    ModelMetricsResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indicates if the request was successful
        data:
          type: object
          properties:
            metrics:
              type: object
              properties:
                precision@5:
                  type: number
                  format: double
                  description: Precision at 5
                recall@5:
                  type: number
                  format: double
                  description: Recall at 5
                auc:
                  type: number
                  format: double
                  description: AUC score
                error:
                  type: string
                  description: Error message if evaluation failed
                  nullable: true
              required:
                - precision@5
                - recall@5
                - auc
            config:
              $ref: '#/components/schemas/ModelConfigResponse'
          required:
            - metrics
        error:
          type: string
          description: Error message if the request failed
          nullable: true
      required:
        - success

    TrainModelResponse:
      type: object
      properties:
        message:
          type: string
          description: Message de confirmation
        config:
          $ref: '#/components/schemas/ModelConfigResponse'

    TuneModelResponse:
      type: object
      properties:
        message:
          type: string
          description: Message de confirmation
        best_config:
          $ref: '#/components/schemas/ModelConfigResponse'

    ClusterResponse:
      type: object
      properties:
        n_clusters:
          type: integer
        user_cluster_map:
          type: array
          items:
            type: object
            properties:
              user_id:
                type: integer
              cluster:
                type: integer
    ClusterComparisonResponse:
      type: object
      properties:
        kmeans:
          type: object
          properties:
            clusters:
              type: object
              additionalProperties:
                type: integer
                description: Cluster label assigned by KMeans
            metrics:
              type: object
              properties:
                silhouette_score:
                  type: number
                  format: float
                  description: Silhouette score for KMeans clustering
                calinski_harabasz_score:
                  type: number
                  format: float
                  description: Calinski-Harabasz score for KMeans clustering
                davis_bouldin_index:
                  type: number
                  format: float
                  description: Davis-Bouldin index for KMeans clustering
              required:
                - silhouette_score
                - calinski_harabasz_score
                - davis_bouldin_index
          required:
            - clusters
            - metrics
        gmm:
          type: object
          properties:
            clusters:
              type: object
              additionalProperties:
                type: integer
                description: Cluster label assigned by GMM
            metrics:
              type: object
              properties:
                silhouette_score:
                  type: number
                  format: float
                  description: Silhouette score for GMM clustering
                calinski_harabasz_score:
                  type: number
                  format: float
                  description: Calinski-Harabasz score for GMM clustering
                davis_bouldin_index:
                  type: number
                  format: float
                  description: Davis-Bouldin index for GMM clustering
              required:
                - silhouette_score
                - calinski_harabasz_score
                - davis_bouldin_index
          required:
            - clusters
            - metrics
      required:
        - kmeans
        - gmm
    UserNotifResponse:
      type: object
      properties:
        notifs:
          type: array
          items:
            $ref: '#/components/schemas/NotificationResponse'
        user:
          $ref: '#/components/schemas/UserResponse'
        unreadCount:
          type: integer
          format: int64
        totalElements:
          type: integer
          format: int64
          example: 42
        totalPages:
          type: integer
          example: 5
        currentPage:
          type: integer
          example: 1
        size:
          type: integer
          example: 10
    NotificationResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        message:
          type: string
        type:
          type: string
        isRead:
          type: boolean
        readAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        redirectUrl:
          type: string
        unreadCount:
          type: integer
          format: int64
    ContactDto:
      type: object
      properties:
        id:
          type: integer
        subject:
          type: string
        message:
          type: string
        email:
          type: string
          format: email
        type:
          $ref: '#/components/schemas/TypeContact'
        statusContact:
          $ref: '#/components/schemas/StatusContact'
        refundMethod:
          $ref: '#/components/schemas/RefundMethod'
        isRefunded:
          type: boolean
        refundedAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        user:
          $ref: '#/components/schemas/UserResponse'
        commande:
          $ref: '#/components/schemas/CommandeResponse'
    ContactCreateRequestDto:
      type: object
      required:
        - message
        - type
      properties:
        subject:
          type: string
        message:
          type: string
        type:
          $ref: '#/components/schemas/TypeContact'
        email:
          type: string
          format: email
        commandeId:
          type: integer
          format: int64
        userId:
          type: integer
          format: int64

    ContactStatusUpdateDto:
      type: object
      required:
        - statusContact
      properties:
        statusContact:
          $ref: '#/components/schemas/StatusContact'
        refundMethod:
          $ref: '#/components/schemas/RefundMethod'
        isRefunded:
          type: boolean
        adminResponse:
          type: string


    WhishlistDto:
      type: object
      description: Détails d'une liste de souhaits
      properties:
        id:
          type: integer
          format: int64
          description: Identifiant unique de la liste de souhaits
          example: 1
        utilisateurId:
          type: integer
          format: int64
          description: Identifiant de l'utilisateur propriétaire
          example: 42
        createdAt:
          type: string
          format: date-time
          description: Date de création de la wishlist
          example: "2025-10-10T09:45:00Z"
        produits:
          type: array
          description: Liste des produits ajoutés à la wishlist
          items:
            $ref: '#/components/schemas/ProductResponse'

    ParamSectionRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
        titre:
          type: string
        contenuJson:
          type: string
        contenuHtml:
          type: string
        type:
          $ref: '#/components/schemas/TypeSectionDto'
        typePage:
          $ref: '#/components/schemas/TypePageDto'
        active:
          type: boolean
          default: false

    ParamSectionResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
        titre:
          type: string
        contenuJson:
          type: string
        contenuHtml:
          type: string
        type:
          $ref: '#/components/schemas/TypeSectionDto'
        typePage:
          $ref: '#/components/schemas/TypePageDto'
        active:
          type: boolean
        imageUrl:
          type: string
        createdById:
          type: integer
          format: int64
        updatedById:
          type: integer
          format: int64

    ImageRequest:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'objet
        contenu:
          type: string
          format: binary
      required:
        - id
        - contenu

    ConfigurationGlobalRequest:
      type: object
      properties:
        valeurLivraison:
          type: number
          format: float
        seuilLivraisonGratuite:
          type: number
          format: float

    ConfigurationGlobalResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: L'ID unique de l'objet
        valeurLivraison:
          type: number
          format: float
        seuilLivraisonGratuite:
          type: number
          format: float

    MetaPixelEventRequest:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
            required:
              - event_name
              - event_time
              - action_source
            properties:
              event_name:
                type: string
                example: ViewContent

              event_time:
                type: integer
                format: int64

              event_id:
                type: string

              action_source:
                $ref: '#/components/schemas/actionSourceEnum'

              event_source_url:
                type: string

              user_data:
                type: object
                properties:
                  em:
                    type: array
                    items:
                      type: string
                  client_ip_address:
                    type: string
                  client_user_agent:
                    type: string
                  fbp:
                    type: string
                  fbc:
                    type: string

              custom_data:
                type: object
                properties:
                  content_name:
                    type: string
                  content_ids:
                    type: array
                    items:
                      type: string
                  content_type:
                    type: string
                  contents:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        quantity:
                          type: integer
                  value:
                    type: number
                    format: double
                  currency:
                    type: string
                  num_items:
                    type: integer


    CatalogueCsvDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        description:
          type: string
        availability:
          type: string
        condition:
          type: string
        price:
          type: string
        link:
          type: string
        image_link:
          type: string
        brand:
          type: string
        size:
          type: string
        color:
          type: string
        rich_text_description:
          type: string
        sale_price:
          type: string
        sale_price_effective_date:
          type: string



    Response:
      type: object
      properties:
        code:
          type: string
          description: Le code d'erreur
          example: "INVALID_REQUEST"
        message:
          type: string
          description: Un message d'erreur détaillé
          example: "La requête est invalide."
        details:
          type: array
          items:
            type: string
          description: Détails supplémentaires sur l'erreur
          example: [ "Le champ 'email' est requis." ]
    # Enum refs
    actionSourceEnum:
      type: string
      enum: [email,
             website,
             app,
             phone_call,
             chat,
             physical_store,
             system_generated,
             business_messaging,
             other]

    availabilityEnum:
      type: string
      enum: [in stock, out of stock]

    conditionEnum:
      type: string
      enum: [new, refurbished, used ]

    TypeContact:
      type: string
      enum: [ RETOUR, AIDE ]

    StatusContact:
      type: string
      enum: [ EN_COURS, RESOLU ]

    RefundMethod:
      type: string
      enum: [ CARTE_BANCAIRE, VIREMENT ]

    StatusCommandeEnum:
      type: string
      enum: [ALL, EN_COURS, EXPEDIEE, LIVREE, ANNULEE, RETOUR, CONFIRMEE, EN_COURS_PREPARATION, TERMINEE, EN_ATTENTE ]

    TypeSectionDto:
      type: string
      enum: [HERO, FOOTER, HEADER, CONTACT, CUSTOM,BANNER_SCROLLING,FAQ,
             OUR_PRODUCTS,CONTENT1,CONTENT2,CONTENT3,
             CONTENT4,CONTENT5,CONTENT6,CONTENT7, CONTENT8, OUR_REVIEWS, HTML, OUR_BLOGS, DESCRIPTION,
             MAIN, SOCIATY_INFO, RIGHT_BARS]
    TypePageDto:
      type: string
      enum: [ ALL,
              HOME,
              PRODUCT,
              CONTACT,
              ABOUT,
              BLOG,
              TERMS_AND_CONDITIONS,
              PRODUCT_DETAILS, DELIVERY_AND_RETURN, LEGAL_NOTICE]
    SortEnum:
      type: string
      enum: [ ASC, DESC]
    ModePaiementEnum:
      type: string
      enum: [ CARTE_BANCAIRE, A_LIVRAISON ]
      description: Mode de paiement sélectionné

tags:
  - name: Authentification
    description: Gestion de l'authentification des utilisateurs
  - name: Articles
    description: Gestion des articles du blog
  - name: Utilisateurs
    description: Gestion des utilisateurs
  - name: Commande
    description: Gestion des commandes
  - name: Paiements
    description: Gestion des paiements
  - name: Paniers
    description: Gestion des paniers
  - name: ImageProduit
    description: Gestion des images des produits
  - name: ImageBlogPost
    description: Gestion des images des articles de blog
  - name: Whishlist
    description: Gestion des listes de souhaits
  - name: Images
    description: Gestion des images
  - name: NewsLetter
    description: Gestion des newsletter
  - name: ConfigurationGlobal
    description: configuration global du site
  - name: MetaPixel
